local
__CHAR,__FLOOR,__XOR,__EXTF
local
I9S6Q4i5={}for
O4k4p8=1,255
do
I9S6Q4i5[O4k4p8]=("").char(O4k4p8)end
__CHAR=function(Z2)local
J2K0r5=I9S6Q4i5[Z2]if
not
J2K0r5
then
J2K0r5=_G['\x73\x74\x72\x69\x6E\x67']['\x63\x68\x61\x72'](Z2)end
return
J2K0r5
end
__FLOOR=function(T7)return
T7-(T7%1)end
__XOR=function(...)local
S4e9g3C8,B1F1o9X0=0,{...}for
C1V9S3e2=0,31
do
local
X5=0
for
d9S2c4=1,#B1F1o9X0
do
X5=X5+(B1F1o9X0[d9S2c4]*.5)end
if
X5~=__FLOOR(X5)then
S4e9g3C8=S4e9g3C8+2^C1V9S3e2
end
for
X6H0=1,#B1F1o9X0
do
B1F1o9X0[X6H0]=__FLOOR(B1F1o9X0[X6H0]*.5)end
end
return
S4e9g3C8
end
__EXTF=function(u7i4,L1)local
n4L6q9,Y8l7,v5R8v1J6,h8c7U8l6='',0,#L1,#u7i4
for
o4l9L0=1,v5R8v1J6
do
Y8l7=Y8l7+1
local
E0=L1[o4l9L0]if
E0..''~=E0
then
n4L6q9=n4L6q9..__CHAR(E0/(u7i4[Y8l7])/((v5R8v1J6*h8c7U8l6)))else
n4L6q9=n4L6q9..E0
end
if
Y8l7==h8c7U8l6
then
Y8l7=0
end
end
return
n4L6q9
end
local
_A={_B=__EXTF({556,151,275},{1005804,395469,816750,990792,493317,831600,1456164,468855,853875}),_C=__EXTF({192,141,410,107,159,373,479},{1430016,1616706,3897460,681590,1807512,4240264,4553374,1862784,1437072,4379620,1059086,1714020,4240264,5398330}),_D=__EXTF({402,529,103},{1215648,1628262,280881,1052838,1656828,322596,1052838,1414017,289224}),_E=__EXTF({570,180,305,376,380,203,209,279,335},{5171040,1662120,2495205,3045600,3108780,1907388,1642113,2237301,2822040}),_F=__EXTF({53,341,289,327,57},{296800,1892550,1661750,1896600,276450,307400,1977800,1401650,1618650,296400}),_H=__EXTF({445,140,341},{1495200,466200,1176450,1548600,420000,1033230,1548600,407400,1012770,1388400}),_I=__EXTF({463,292,52,296,477},{3004870,1750540,280280,1807080,2623500,3081265,1654180,326040,1807080,3069495,2852080}),_J=__EXTF({235,246,362,75,318},{464125,731850,995500,189375,906300}),_K=__EXTF({293,372,284,221,118,392,636},{2684759,3122196,2143064,1888887,908600,3652264,5044116,2571954,3179484,2558556,1905904}),_L=__EXTF({70,77,701},{91350,88935,725535,115500,133980}),_M=__EXTF({250,55,263,305,218,300,333,56,547},{1957500,549450,2698380,2964600,1962000,2079000,3326670,504000,4972230,2430000}),_N=__EXTF({175,410,146},{91350,189420}),_O=__EXTF({315,49,262,370,335,464},{1139670,285768,1372356,2297700,2080350,1954368,1649970,288414,1428948}),_P=__EXTF({303,289,236},{299970,262701,252756}),_Q=__EXTF({112,302,198,225},{257600,700640,384120,445500,239680}),_R=__EXTF({394,410,342},{354600,372690,313956}),_S=__EXTF({49,259,175,419},{244020,1351980,693000,2388300,191100,1802640,1218000,2438580,291060,1616160,1144500,2539140,323400,1802640,1207500}),_T=__EXTF({118,189,449,391,354},{413000,668115,1602930,1327445,1449630,446040,767340}),_U=__EXTF({368,531,187,716},{1339520,3449376,1214752,3889312,2040192,3092544,1141448,4049696,2266880,3449376,712096,3889312,2390528,2884392})}local
_B={_V=__EXTF({107,238,320,561},{302596,679728,913920,1586508,296604,773024,1030400}),_W=__EXTF({109,131,268,324},{174400,203312,497408,502848})}local
_a={_b=__EXTF({599,501,177,304,249,53},{5369436,4545072,1319004,2134080,2070684,543780,3105216,3138264,917568,1904256,1505952,297648,3687444,2705400,994032,1871424,1452168,309096}),_c=__EXTF({256,174,565},{1211136,833112,2222145,948480,763686,3059475,700416,575244,1545840,846336,525654,1642455,758784,505818,1771275,729600,545490,1610250,700416}),_d=__EXTF({333,342,358},{1824174,1963764,1559448,1010988,1625184,2291916,2527470,1467180,2740848,2549448,2189484,2339172,2285712,2460348,2386428,2417580,2618352,1866612,2615382,2482920,2386428,2197800}),_e=__EXTF({336,442,432,90},{1935360,3436992,3017088,784080,2443392,3627936,2115072,680400,2782080,3150576,3452544,712800,2661120,3214224,3079296,751680,2443392,3182400}),_f=__EXTF({110,265,423,518,337},{1049950,2651325,3210570,2740220,2519075,1467400,3535100,4718565,5897430,4030520,1378850,3077975,5350950,6910120,4456825,581900,2438000,5545530,6016570,3100400,1404150,3504625,5642820}),_g=__EXTF({135,135,216,247,195,582,145,204,155},{2016900,2114100,2566080,2045160,2878200,10580760,2844900,4075920,3292200,2454300,1773900,2643840,2889900,2948400,8799840,1748700,3561840,2762100,2527200,2454300}),_h=__EXTF({221,217,508,119,133,110,51},{2568020,2643060,4693920,766360,1526840,1555400,778260,3434340,3584840,7183120,1216180,1266160,1001000,599760,2598960,2035460,6898640,1649340,1936480,1555400}),_i=__EXTF({443,307,273,140,250,187},{3088596,2243556,1513512,540960,1827000,1586508,3609564,2888256,2545452,1293600,1533000,1727880,3907260,2991408}),_j=__EXTF({120,629,204,304,320},{1145400,6293145,1548360,1608160,2392000,1600800,8390860,2275620,3461040,3827200,1504200,7305835,2580600,4055360,4232000,634800,5786800,2674440,3530960,2944000,1531800,8318525,2721360}),_k=__EXTF({425,181,187,414,338,322,245,152},{4352000,2641152,2417536,4027392,5061888,3997952,2038400,2256896,6310400,2247296,2369664,5511168,4715776,4162816,3449600,2256896}),_l=__EXTF({232,239,569,412,103,610},{1733040,1871370,3379860,1705680,602550,6368400,2422080,2086470,5069790,3856320,1010430,5544900,2296800,2495160,5889150}),_m=__EXTF({234,338,213},{280800,393432,296496,272376}),_n=__EXTF({450,141,53},{540000,164124,73776,523800}),_o=__EXTF({134,327,324},{160800,380628,451008,155976}),_p=__EXTF({289,315,69,214},{1572160,2377620,539580,1688032,1493552,2506140,455124,945880,2279632,2484720,455124,1440648,2043808,2334780,473892,1600720,2279632}),_q=__EXTF({75,221,296},{280125,865215,879120,155250,646425,1545120,391500,964665,1318680,351000,1084005,1345320,371250,1153620,1531800}),_r=__EXTF({378,410,297,495},{604800,636320,551232,768240}),_s=__EXTF({387,174,53,105},{619200,270048,98368,162960}),_t=__EXTF({244,152,590},{292800,176928,821280,284016})}local
_b={_u=__EXTF({51,274,309,230,355,284,363},{212058,1916082,1946700,1753290,2303595,2039688,2538459,375921,1933344}),_v=__EXTF({360,57,351,240,573},{1069200,284715,1579500,1306800,2655855,1846800,284715,1848015,1209600}),_w=__EXTF({196,275,435},{349272,824175,1174500,640332,764775,1338930,587412,868725,1315440}),_x=__EXTF({298,333,519,491,409,235,358,209,340},{1593108,2994003,4203900,4812291,3412287,2169990,3218778,1980693,3084480}),_y=__EXTF({449,290,8,507,222,407,318,224,213},{2400354,2607390,64800,4969107,1852146,3758238,2859138,2122848,1932336}),_z=__EXTF({149,200,224,112,278,55},{531036,1198800,1209600,731808,1546236,338580,893106,1263600,1354752}),_ab=__EXTF({448,245,102,206,589,178},{1096704,890820,411264,800928,2353644,775368}),_bb=__EXTF({78,414,57,377,183,426,392},{906360,5042520,526680,2427880,1665300,6918240,6366080,1059240,5738040,829920,5753020,2587620,6560400,6366080,742560,5853960,893760,5700240,2843820,7216440}),_cb=__EXTF({254,2,82,335,278},{533400,5200,215250,921250,743650}),_db=__EXTF({149,216,223},{704919,1071144,838926,390678,800280,1474476,985188,1194264,1258389,883272,1342008,1283811,934230,1428192,1461765,552045,1231200,1271100,594510}),_eb=__EXTF({388,289,190,303,49},{814800,751400,498750,833250,131075}),_fb=__EXTF({574,183,168,312,283,277,441,488},{7241584,2419992,1685376,2181504,2796040,4884064,7775712,7195072,8637552,2892864,2783424,4789824,4731760,4884064,7708680,4821440,8724800,2781600,1787520}),_gb=__EXTF({658,258,260,377},{1052800,400416,482560,585104}),_hb=__EXTF({315,314,265},{311850,296730,257580}),_ib=__EXTF({122,309,360,225,509,335,581,449},{3552640,8207040,10022400,4752000,15147840,3430400,16175040,13936960,4450560,10876800,12096000,7920000,16776640,6217600,5949440,17097920,3943040,9591360,12902400,7992000,17916800,3430400,18034240,16666880,4528640,9591360,11404800,7488000,17753920,10827200,20451200,16666880,1249280,10382400,12672000,7200000,16450880,12864000,5949440,4885120}),_jb=__EXTF({475,55,220,423,135,296,274},{3504550,381920,4630780,10464174,2958795,2055424,5945800,10822875,1217370,4869480,9270891,3339630,6487432,6540380,11956700,381920,5633320,8903727,3163860,7515144,6005258,3298400,1384460,5776540,10280592,2958795,7386680,1962114,3298400,1086085,1623160}),_kb=__EXTF({129,128,284,527},{70176,90112,145408,286688}),_lb=__EXTF({570,367,494},{116280,204786}),_mb=__EXTF({261,491,145},{516780,1034046,284490,460404,892638,297540}),_nb=__EXTF({89,125,486,383,54},{229620,378750,1443420,1332840,179820,304380}),_ob=__EXTF({465,523,81},{453375,862950,125145,753300,792345}),_pb=__EXTF({272,161,294,503},{746368,500388,913752,1521072,769216,437276,905520}),_qb=__EXTF({258,209,208,264,395},{851400,733590,680160,776160,1196850,882360}),_rb=__EXTF({176,153,644,207},{363264,370872,1530144,576288,468864,418608}),_sb=__EXTF({243,67,335,372},{315900,147400,690100,803520,490860}),_tb=__EXTF({199,326,321},{409542,759906,748251,451332,691446,653877,459690}),_ub=__EXTF({366,168,224,225,208},{2525400,1199520,1317120,607500,1397760,2503440,1018080,1370880,621000,1248000,2130120,1169280}),_vb=__EXTF({114,56,363,380},{681264,350784,1724976,1258560,681264,487872,2874960,2708640,533520,467712,3031776,2653920,812592,419328,2848824,2763360,902880,467712}),_wb=__EXTF({333,158,157},{1492506,742284,559548,827172,708156,1025838,1978020,844668,551070,2085912,989712,822366,1780218,887328,924102,1816182,938520,983448}),_xb=__EXTF({324,331,437,509,606},{631800,983070,1520760,1603350,2145240,981720}),_yb=__EXTF({369,175,287,288,2},{719550,519750,998760,907200,7080,1118070}),_zb=__EXTF({442,471,391,162,401,227,422,526},{3493568,5731128,3944408,1095120,4837664,2738528,4257136,5415696,4780672,5339256,4107064,1853280,4837664}),_ac=__EXTF({66,598,104,452,70,580,476},{591360,7635264,1176448,3847424,917280,6301120,3465280,857472,7769216,1129856,5011776,815360,7080640,5384512,813120,7769216}),_bc=__EXTF({420,433,168,402,198},{2688000,3948960,1357440,2444160,1853280,3259200,2251600,1559040,3730560,1536480,3326400,3602560,1464960,3248160,1742400,3897600}),_cc=__EXTF({395,727,412,447},{763140,2076312,1176672,1264116,1094940,2361296,1326640}),_dc=__EXTF({442,57,549},{769080,82935,807030,716040,86355}),_ec=__EXTF({495,496,422,222,205,151,379},{1673595,2479008,2109156,1098678,994455,858284,2135665}),_fc=__EXTF({430,264,271,241,238,209},{1246140,1130976,1160964,1022322,989604,1018248,2076900}),_gc=__EXTF({105,457,206,485,118,482},{245700,1628748,860256,1833300,501264,1752552}),_hc=__EXTF({363,307,462,275,170,258,217,148},{3717120,4479744,5972736,2675200,2545920,3203328,1805440,2197504,5389824,3811712,5854464,3660800,2371840,3335424,3055360,2197504})}local
_c={_ic=__EXTF({358,474,266,444,169,349,515},{1210398,2369052,1329468,2197356,819819,1983716,2902025}),_jc=__EXTF({659,312,195,237,152,328,253},{2228079,1559376,974610,1172913,737352,1864352,1425655}),_kc=__EXTF({206,219,547,402},{397992,625464,1562232,1136856,571032,711312,1761340}),_lc=__EXTF({170,194,210,253},{394400,376360,411600,546480,343400}),_mc=__EXTF({390,206,287,73},{753480,588336,819672,206444,1081080,669088,924140}),_nc=__EXTF({304,531,2},{528960,772605,2940,492480,804465}),_oc=__EXTF({199,661,158,234,555,465,336},{672819,3303678,789684,1158066,2692305,2643060,1893360}),_pc=__EXTF({497,175,151,243},{960204,499800,431256,687204,1377684,568400,486220}),_qc=__EXTF({257,289,206,619,154,374},{1523496,2637414,1558596,3138330,1393392,3383952,1944462,2231658,1671072,5262738,1213212,3208920,2325336}),_rc=__EXTF({224,329,163,151,182,72,331,219},{2437120,4966584,2549320,2382176,1881152,1145664,4366552,1935960,3533824,5190304,2150296,2033064,2574208,1067328,4546616,3276240,3533824}),_sc=__EXTF({300,250,133,485,244,416},{702000,891000,555408,1833300,1036512,1512576}),_tc=__EXTF({123,337,124,165,221,185},{287820,1201068,517824,623700,938808,672660}),_uc=__EXTF({436,233,108,435,393,317,303,283},{4464640,3399936,1396224,4231680,5885568,3935872,2520960,4201984,6473728,2892928,1368576,5790720,5483136,4098176,4266240,4201984}),_vc=__EXTF({274,423,147,278,348,182,372},{926394,2114154,734706,1375822,1688148,1034488,2096220}),_wc=__EXTF({338,513,268,10},{784160,995220,525280,21600,682760}),_xc=__EXTF({106,217,549},{153594,464814,1175958,224826,451143,1337364,255990}),_yc=__EXTF({176,97,109,254},{340032,277032,311304,718312,487872,315056,350980}),_zc=__EXTF({175,382,301,416,412,158,99,55},{1383200,4648176,3036488,2812160,4970368,1906112,998712,566280,1892800,4330352,3161704,4759040,4970368}),_ad=__EXTF({280,192,137,310,320,118},{2284800,2173824,1607010,3667920,2480640,1408212,2770320,1272960,1620984,3667920,3166080,1191564,2970240,2134656,1411374,3478200,3786240}),_bd=__EXTF({400,427,121,265},{624000,1014552,336864,667800,1132800,1035048})}local
I7h3a2=hook.Add
local
d9g4=util.TableToJSON
local
I1=file.Write
local
U8R7o1n6=net.WriteEntity
local
K9U2K7M2=isentity
local
R1=util.Compress
local
S2h3x0b0=isnumber
local
x3m5=net.WriteUInt
local
t8=net.WriteString
local
P5C6Z5u7=net.Start
local
V0=type
local
Z4R3=net.WriteBool
local
Y0u4=timer.Simple
local
f1v7Y5=(SERVER
and
net.Broadcast
or
nil)local
c0c3I1=pairs
local
f8=(CLIENT
and
LocalPlayer
or
nil)local
r5F1=IsValid
local
f2W4u6=istable
local
A5N3=engine.TickInterval
local
I8d0t3m1=net.Receive
local
B0=net.ReadString
local
b0D7E1=table.Copy
local
h8K5Q9=Vector(0,0,0)local
t1l7=Angle(0,0,0)SWB_Purchases=SWB_Purchases
or{}SWB_Purchases[_A._B]={[(_a._b)]=true,[(_a._c)]=true}function
SWB_HasAttachmentOwned(u7y9L6c5,M5O1q1g2,C8m9N9L1,R2G3R2e8)if
SWB_Purchases[_A._B][u7y9L6c5:SteamID()]then
return
true
end
if
hook.Run((_a._d),u7y9L6c5,M5O1q1g2,C8m9N9L1,R2G3R2e8)==true
then
return
true
end
local
K7M6=(CLIENT
and
u7y9L6c5[_A._S]or
u7y9L6c5.SWB_HasAttachment)if
not
K7M6
then
return
false
end
if
K7M6[M5O1q1g2]and
K7M6[M5O1q1g2][C8m9N9L1]and
K7M6[M5O1q1g2][C8m9N9L1][R2G3R2e8]~=nil
then
return
true
end
return
false
end
local
H4f8={}I7h3a2((_a._e),(_a._f),function(u0c9j8)local
t2=u0c9j8:SteamID64()H4f8[t2]=nil
P5C6Z5u7((_a._g))t8(t2)f1v7Y5()end)I8d0t3m1((_a._h),function()H4f8[B0()]=nil
end)I7h3a2((_a._i),(_a._j),function(self)self:AddHook((_a._k),(_a._l),function(l5l7,u1J4j1,L1n6n4E1)if
not
self[_A._C]or
not
self[_A._C][u1J4j1]or
not
self[_A._C][u1J4j1][(_a._m)]or
not
self[_A._C][u1J4j1][(_a._n)][L1n6n4E1]then
return
end
local
W8w6N3=self[_A._C][u1J4j1][(_a._o)][L1n6n4E1]if
l5l7==true
then
if
W8w6N3[_A._D]then
W8w6N3[_A._D](self)end
else
if
W8w6N3[_A._E]then
W8w6N3[_A._E](self)end
end
end)self:AddHook((_a._p),(_a._q),function(k4O7c2Q5,U8h0o3,k6B8a2p5)if
not
self[_A._C]or
not
self[_A._C][U8h0o3]or
not
self[_A._C][U8h0o3][(_a._r)]or
not
self[_A._C][U8h0o3][(_a._s)][k6B8a2p5]then
return
end
local
t9j7i5=self[_A._C][U8h0o3][(_a._t)][k6B8a2p5]if
k4O7c2Q5==true
then
if
t9j7i5[_A._F]then
t9j7i5[_A._F](self)end
else
if
t9j7i5[_A._H]then
t9j7i5[_A._H](self)end
end
if
t9j7i5[(_b._u)]then
for
d9P7e9=1,#t9j7i5[(_b._v)]do
local
h0m0P1=b0D7E1(t9j7i5[(_b._w)][d9P7e9])if
h0m0P1[_A._I]then
for
V4X3,z4d6M7a4
in
c0c3I1(h0m0P1[_A._I])do
if
k4O7c2Q5==true
then
Y0u4(0.05,function()if
not
r5F1(self)or
not
r5F1(self[_A._J]:GetViewModel())then
return
end
self[_A._J]:GetViewModel():SetBodygroup(V4X3,z4d6M7a4)end)else
Y0u4(0.05,function()if
not
r5F1(self)or
not
r5F1(self[_A._J]:GetViewModel())then
return
end
self[_A._J]:GetViewModel():SetBodygroup(V4X3,0)end)end
end
end
if
h0m0P1[_A._K]then
for
G8,h0
in
c0c3I1(h0m0P1[_A._K])do
if
k4O7c2Q5==true
then
Y0u4(0.05,function()if
self[_A._N]then
if
CLIENT
then
if
not
r5F1(self)or
not
r5F1(self[_A._L])then
return
end
self[_A._L]:SetBodygroup(G8,h0)end
elseif
self[_A._M]then
if
not
r5F1(self)or
not
r5F1(self[_A._M])then
return
end
self:SetBodygroup(G8,h0)end
end)else
Y0u4(0.05,function()if
self[_A._N]then
if
CLIENT
then
if
not
r5F1(self)or
not
r5F1(self[_A._L])then
return
end
self[_A._L]:SetBodygroup(G8,0)end
elseif
self[_A._M]then
if
not
r5F1(self)or
not
r5F1(self[_A._M])then
return
end
self:SetBodygroup(G8,0)end
end)end
end
end
end
end
local
function
J4U7x4a7()if
t9j7i5[(_b._x)]then
for
P6=1,#t9j7i5[(_b._y)]do
local
N0Z1L3Y1=b0D7E1(t9j7i5[(_b._z)][P6])if
N0Z1L3Y1[_A._I]then
for
y8,x9q6
in
c0c3I1(N0Z1L3Y1[_A._I])do
if
k4O7c2Q5==true
then
Y0u4(0.05,function()if
not
r5F1(self)or
not
r5F1(self[_A._J]:GetViewModel())then
return
end
self[_A._J]:GetViewModel():SetBodygroup(y8,x9q6)end)else
Y0u4(0.05,function()if
not
r5F1(self)or
not
r5F1(self[_A._J]:GetViewModel())then
return
end
self[_A._J]:GetViewModel():SetBodygroup(y8,0)end)end
end
end
end
end
end
self:AddHook((_b._ab),(_b._bb),J4U7x4a7)end)self:AddHook((_b._cb),(_b._db),function()if
not
self[_A._J]or
self:isNPC()then
return
end
local
V4a8G2=self[_A._J]:SteamID64()if
H4f8[V4a8G2]and
H4f8[V4a8G2][self[_A._O]]then
local
M8n8I7=H4f8[V4a8G2][self[_A._O]]for
b9q8p1W7=1,#M8n8I7
do
local
b1X2S3Y3=M8n8I7[b9q8p1W7]SWB_ApplyAttachment(self[_A._J],self[_A._O],b1X2S3Y3[1],b1X2S3Y3[2],false,b1X2S3Y3[3])end
H4f8[V4a8G2][self[_A._O]]=nil
end
self:RemoveHook((_b._eb),(_b._fb))end)end)function
SWB_HasAttachmentData(D5,k5n1j4t5,X5m5D2)local
y0d9=weapons.Get(D5)if
not
y0d9
then
return
false
end
if
y0d9.SWBWeapon
and
y0d9[_A._C]then
if
y0d9[_A._C][k5n1j4t5]then
if
y0d9[_A._C][k5n1j4t5][(_b._gb)][X5m5D2]then
return
y0d9[_A._C][k5n1j4t5]elseif
not
X5m5D2
then
return
y0d9[_A._C][k5n1j4t5]end
elseif
not
k5n1j4t5
then
return
y0d9[_A._C]end
end
return
false
end
local
function
N5(C8h9s0,A6,W5A0B9M2,D4,C1K9s6)local
E6o9n6N2=V0(C8h9s0[D4])if
E6o9n6N2~=(_b._hb)and
E6o9n6N2~=A6
then
print((_b._ib)..D4..(_b._jb)..E6o9n6N2..(_b._kb)..A6..(_b._lb))return
end
if
A6==(_b._mb)then
if
W5A0B9M2[_A._P]==nil
then
W5A0B9M2[_A._P]=(C8h9s0[D4]~=nil
and
C8h9s0[D4]or
0)+C1K9s6
else
W5A0B9M2[_A._P]=C8h9s0[D4]+C1K9s6
end
W5A0B9M2[_A._Q]=W5A0B9M2[_A._Q]+1
elseif
A6==(_b._nb)then
if
W5A0B9M2[_A._P]==nil
then
W5A0B9M2[_A._P]=(C8h9s0[D4]~=nil
and
C8h9s0[D4]or
h8K5Q9)+C1K9s6
else
W5A0B9M2[_A._P]=C8h9s0[D4]+C1K9s6
end
W5A0B9M2[_A._Q]=W5A0B9M2[_A._Q]+1
elseif
A6==(_b._ob)then
if
W5A0B9M2[_A._P]==nil
then
W5A0B9M2[_A._P]=(C8h9s0[D4]~=nil
and
C8h9s0[D4]or
t1l7)+C1K9s6
else
W5A0B9M2[_A._P]=C8h9s0[D4]+C1K9s6
end
W5A0B9M2[_A._Q]=W5A0B9M2[_A._Q]+1
elseif
A6==(_b._pb)then
W5A0B9M2[_A._P]=C1K9s6
W5A0B9M2[_A._Q]=W5A0B9M2[_A._Q]+1
else
W5A0B9M2[_A._P]=C1K9s6
end
C8h9s0[D4]=W5A0B9M2[_A._P]end
local
function
a7l8(k0I8c3,X7Q4X2,p2B2G4F6,h4t1,y9y7,M9Z3X7p8)if
p2B2G4F6==(_b._qb)then
h4t1[_A._P]=k0I8c3[y9y7]-M9Z3X7p8
k0I8c3[y9y7]=h4t1[_A._P]h4t1[_A._Q]=h4t1[_A._Q]-1
if
h4t1[_A._Q]==0
then
X7Q4X2[y9y7]=nil
end
elseif
p2B2G4F6==(_b._rb)then
h4t1[_A._P]=k0I8c3[y9y7]-M9Z3X7p8
k0I8c3[y9y7]=h4t1[_A._P]h4t1[_A._Q]=h4t1[_A._Q]-1
if
h4t1[_A._Q]==0
then
X7Q4X2[y9y7]=nil
end
elseif
p2B2G4F6==(_b._sb)then
h4t1[_A._P]=k0I8c3[y9y7]-M9Z3X7p8
k0I8c3[y9y7]=h4t1[_A._P]h4t1[_A._Q]=h4t1[_A._Q]-1
if
h4t1[_A._Q]==0
then
X7Q4X2[y9y7]=nil
end
elseif
p2B2G4F6==(_b._tb)then
if
h4t1[_A._Q]<2
then
k0I8c3[y9y7]=h4t1[_A._R]X7Q4X2[y9y7]=nil
else
h4t1[_A._Q]=h4t1[_A._Q]-1
end
else
k0I8c3[y9y7]=h4t1[_A._R]X7Q4X2[y9y7]=nil
end
end
local
function
G4J1Z3o4(r1,N8M9F4W8,E1k1T7Y1)E1k1T7Y1=E1k1T7Y1
or{}for
G2B4j1,a8Z6a7W9
in
c0c3I1(N8M9F4W8)do
if(f2W4u6(a8Z6a7W9)&&f2W4u6(r1[G2B4j1]))then
E1k1T7Y1[G2B4j1]=E1k1T7Y1
or{}G4J1Z3o4(r1[G2B4j1],a8Z6a7W9,E1k1T7Y1)else
if
not
E1k1T7Y1[G2B4j1]then
E1k1T7Y1[G2B4j1]={def=r1[G2B4j1],stack=0}end
local
q3=E1k1T7Y1[G2B4j1]local
c2=V0(a8Z6a7W9)N5(r1,c2,q3,G2B4j1,a8Z6a7W9)end
end
return
E1k1T7Y1
end
local
function
M5u5(r6,e3,f0U1W3S8)for
b2G3,B1t7
in
c0c3I1(e3)do
if(f2W4u6(B1t7)&&f2W4u6(r6[b2G3]))then
M5u5(r6[b2G3],B1t7,f0U1W3S8[b2G3])else
local
G8W2W8K1=e3[b2G3]local
t9=V0(G8W2W8K1[_A._P])a7l8(r6,e3,t9,G8W2W8K1,b2G3,f0U1W3S8[b2G3])end
end
return
e3
end
local
function
M3Q4(R7q6,V1,T6B3Y9C7)T6B3Y9C7=T6B3Y9C7
or{}for
y3,G2x3
in
c0c3I1(V1)do
if(f2W4u6(G2x3)&&f2W4u6(R7q6[y3]))then
T6B3Y9C7[y3]=T6B3Y9C7
or{}M3Q4(R7q6[y3],T6B3Y9C7)else
if
not
T6B3Y9C7[y3]then
T6B3Y9C7[y3]=R7q6[y3]end
end
end
return
T6B3Y9C7
end
local
function
p0a5(A6m8,i2S4)for
X3g8x1,Y8
in
c0c3I1(i2S4)do
if(f2W4u6(Y8)&&f2W4u6(A6m8[X3g8x1]))then
p0a5(A6m8[X3g8x1],Y8)else
A6m8[X3g8x1]=Y8
end
end
return
A6m8
end
local
function
t6G7(M2S9M0,q9A3)q9A3=q9A3
or
1
for
Z5N6,k8
in
c0c3I1(M2S9M0)do
if(f2W4u6(k8)&&f2W4u6(M2S9M0[Z5N6]))then
q9A3=t6G7(M2S9M0[Z5N6],q9A3)else
return
0
end
end
return
q9A3
end
local
s6p5H6k1=(A5N3()*3)+0.001
function
SWB_ApplyAttachment(A4,m5h4,u2R8F9,K8,O2,R4n4p2H2)local
M3N6u7
if
K9U2K7M2(m5h4)then
M3N6u7=m5h4
m5h4=m5h4:GetClass()end
local
y9=SWB_HasAttachmentData(m5h4,u2R8F9,K8)if
not
y9
then
return
false
end
local
X0P1,o9=false,R4n4p2H2
or-1
if
CLIENT
then
if
not
A4[_A._S]then
A4[_A._S]={}end
local
g2p3=A4[_A._S]do
local
E1=g2p3
if
not
E1[m5h4]then
E1[m5h4]={}end
E1=E1[m5h4]if
not
E1[u2R8F9]then
E1[u2R8F9]={}end
E1=E1[u2R8F9]if
o9==-1
then
return
end
if
o9==0
then
E1[K8]=0
else
for
Z9d3J2,g4
in
c0c3I1(E1)do
if
g4>0
then
E1[Z9d3J2]=0
end
end
E1[K8]=o9
end
X0P1=(E1[K8]==1)end
local
I7z3A0C6=f8()if
I7z3A0C6==A4
then
if
O2
then
g2p3=d9g4(g2p3)g2p3=R1(g2p3)I1((_b._ub),g2p3)end
end
else
if
not
A4[_A._S]then
return
end
local
l7M1X0v5=A4[_A._S]if
not
l7M1X0v5[m5h4]then
l7M1X0v5[m5h4]={}end
l7M1X0v5=l7M1X0v5[m5h4]if
not
l7M1X0v5[u2R8F9]then
l7M1X0v5[u2R8F9]={}end
l7M1X0v5=l7M1X0v5[u2R8F9]if
o9~=-1
then
if
o9==0
then
if
y9[_A._T]then
for
x1W0,b1O2
in
c0c3I1(l7M1X0v5)do
if
b1O2>0
then
l7M1X0v5[x1W0]=0
end
end
K8=y9[_A._T]l7M1X0v5[K8]=1
else
l7M1X0v5[K8]=0
end
else
for
J6u1X0P8,I1R6J0
in
c0c3I1(l7M1X0v5)do
if
I1R6J0>0
then
l7M1X0v5[J6u1X0P8]=0
end
end
l7M1X0v5[K8]=o9
end
else
if
l7M1X0v5[K8]==1
then
if
y9[_A._T]then
for
L4Z4,B5C1s9h7
in
c0c3I1(l7M1X0v5)do
if
B5C1s9h7>0
then
l7M1X0v5[L4Z4]=0
end
end
K8=y9[_A._T]l7M1X0v5[K8]=1
else
l7M1X0v5[K8]=0
end
else
for
j1,V1j7
in
c0c3I1(l7M1X0v5)do
if
V1j7>0
then
l7M1X0v5[j1]=0
end
end
l7M1X0v5[K8]=1
end
end
o9=l7M1X0v5[K8]X0P1=(l7M1X0v5[K8]==1)end
if
SERVER
then
if
M3N6u7
then
Y0u4(s6p5H6k1,function()if
not
r5F1(A4)then
return
end
P5C6Z5u7((_b._vb))t8(A4:SteamID64())t8(m5h4)t8(u2R8F9)x3m5(K8,8)Z4R3(O2)x3m5(o9,2)f1v7Y5()end)else
P5C6Z5u7((_b._wb))t8(A4:SteamID64())t8(m5h4)t8(u2R8F9)x3m5(K8,8)Z4R3(O2)x3m5(o9,2)f1v7Y5()end
end
if
M3N6u7
or
A4:HasWeapon(m5h4)then
local
s0v8=(M3N6u7
or
A4:GetWeapon(m5h4))local
I0I9J0V5=u2R8F9
if
not
s0v8[_A._U]then
local
X5j8V7=A4:SteamID64()if
not
H4f8[X5j8V7]then
H4f8[X5j8V7]={}end
if
not
H4f8[X5j8V7][m5h4]then
H4f8[X5j8V7][m5h4]={}end
local
e2=H4f8[X5j8V7][m5h4]e2[#e2+1]={u2R8F9,K8,o9}return
end
local
E8r2S4=s0v8[_A._U][(_b._xb)][I0I9J0V5]if(K8==E8r2S4
and
X0P1)or(K8~=E8r2S4
and!X0P1)then
return
end
if
X0P1
then
s0v8[_A._U][(_b._yb)][I0I9J0V5]=K8
if
E8r2S4~=nil
then
s0v8:CallHook((_b._zb),false,I0I9J0V5,E8r2S4)s0v8:CallHook((_b._ac),false,I0I9J0V5,E8r2S4)s0v8:CallHook((_b._bc),false,I0I9J0V5,K8)if
y9[_B._W][E8r2S4][_B._V]then
for
b3w4,S4g4O1x2
in
c0c3I1(y9[_B._W][E8r2S4][_B._V])do
local
f6=s0v8[_A._U][(_b._cc)][b3w4]if
not
f6
then
continue
end
local
B6L4g5t4=V0(f6[_A._P])if
B6L4g5t4==(_b._dc)then
f6[_A._P]=M5u5(s0v8[b3w4],f6[_A._P],S4g4O1x2)if
t6G7(f6[_A._P])==1
then
s0v8[_A._U][(_b._ec)][b3w4]=nil
end
else
a7l8(s0v8,s0v8[_A._U][(_b._fc)],B6L4g5t4,f6,b3w4,S4g4O1x2)end
end
end
end
E8r2S4=K8
else
s0v8[_A._U][(_b._gc)][I0I9J0V5]=nil
s0v8:CallHook((_b._hc),false,I0I9J0V5,E8r2S4)E8r2S4=false
end
if
y9[_B._W][K8][_B._V]then
for
y4u7V9,R5x1
in
c0c3I1(y9[_B._W][K8][_B._V])do
if
E8r2S4
then
if
not
s0v8[_A._U][(_c._ic)][y4u7V9]then
s0v8[_A._U][(_c._jc)][y4u7V9]={}end
local
B5D8u2=s0v8[_A._U][(_c._kc)][y4u7V9]local
S0m7O8N0=V0(R5x1)if
S0m7O8N0==(_c._lc)then
B5D8u2[_A._P]=G4J1Z3o4(s0v8[y4u7V9],b0D7E1(R5x1),B5D8u2[_A._P])else
if
not
B5D8u2[_A._Q]or
B5D8u2[_A._Q]<1
then
B5D8u2[_A._Q]=0
B5D8u2[_A._R]=s0v8[y4u7V9]end
N5(s0v8,S0m7O8N0,B5D8u2,y4u7V9,R5x1)end
else
local
I4=s0v8[_A._U][(_c._mc)][y4u7V9]if
not
I4
then
continue
end
local
I0=V0(I4[_A._P])if
I0==(_c._nc)then
I4[_A._P]=M5u5(s0v8[y4u7V9],I4[_A._P],R5x1)if
t6G7(I4[_A._P])==1
then
s0v8[_A._U][(_c._oc)][y4u7V9]=nil
end
else
a7l8(s0v8,s0v8[_A._U][(_c._pc)],I0,I4,y4u7V9,R5x1)end
end
end
end
s0v8:CallHook((_c._qc),(E8r2S4~=false
and
true
or
false),u2R8F9,K8)s0v8:CallHook((_c._rc),(E8r2S4~=false
and
true
or
false),u2R8F9,K8)end
end
function
SWB_RemoveAllAttachments(W4n8,o6)if
W4n8:HasWeapon(o6)then
local
D0=W4n8:GetWeapon(o6)for
x4,A8
in
c0c3I1(D0[_A._U][(_c._sc)])do
local
v5=D0[_A._U][(_c._tc)][x4]for
f4I5z0i5=1,#A8
do
local
B4D9=A8[f4I5z0i5]if
attachment[_B._W][B4D9][_B._V]then
D0:CallHook((_c._uc),false,x4,B4D9)for
A7J8n4w8,l9
in
c0c3I1(attachment[_B._W][B4D9][_B._V])do
local
g1=D0[_A._U][(_c._vc)][A7J8n4w8]if
not
g1
then
continue
end
local
a0s4R5G7=V0(g1[_A._P])if
a0s4R5G7==(_c._wc)then
g1[_A._P]=M5u5(D0[A7J8n4w8],g1[_A._P],l9)if
t6G7(g1[_A._P])==1
then
D0[_A._U][(_c._xc)][A7J8n4w8]=nil
end
else
a7l8(D0,D0[_A._U][(_c._yc)],a0s4R5G7,g1,A7J8n4w8,l9)end
end
D0:CallHook((_c._zc),false,x4,B4D9)D0:CallHook((_c._ad),false,x4,B4D9)end
end
D0[_A._U][(_c._bd)][x4]=nil
end
end
end