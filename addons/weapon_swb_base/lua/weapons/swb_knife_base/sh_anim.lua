local
__CHAR,__FLOOR,__XOR,__EXTF
local
V5B4Y7={}for
M1=1,255
do
V5B4Y7[M1]=("").char(M1)end
__CHAR=function(C8g9m6c3)local
l9H5x9C7=V5B4Y7[C8g9m6c3]if
not
l9H5x9C7
then
l9H5x9C7=_G['\x73\x74\x72\x69\x6E\x67']['\x63\x68\x61\x72'](C8g9m6c3)end
return
l9H5x9C7
end
__FLOOR=function(e4z0b2n2)return
e4z0b2n2-(e4z0b2n2%1)end
__XOR=function(...)local
B8z7,p0m0O5J9=0,{...}for
g8C9r3L4=0,31
do
local
t6C7=0
for
i3s8G4=1,#p0m0O5J9
do
t6C7=t6C7+(p0m0O5J9[i3s8G4]*.5)end
if
t6C7~=__FLOOR(t6C7)then
B8z7=B8z7+2^g8C9r3L4
end
for
q6f9J0=1,#p0m0O5J9
do
p0m0O5J9[q6f9J0]=__FLOOR(p0m0O5J9[q6f9J0]*.5)end
end
return
B8z7
end
__EXTF=function(h0T1,f4e0)local
g9O1,S4p7C1H7,P4d8e0,b8='',0,#f4e0,#h0T1
for
c6D4a2E0=1,P4d8e0
do
S4p7C1H7=S4p7C1H7+1
local
Z3=f4e0[c6D4a2E0]if
Z3..''~=Z3
then
g9O1=g9O1..__CHAR(Z3/(h0T1[S4p7C1H7])/((P4d8e0*b8)))else
g9O1=g9O1..Z3
end
if
S4p7C1H7==b8
then
S4p7C1H7=0
end
end
return
g9O1
end
local
_A={_B=__EXTF({413,229,51,158,396,122,170},{2254980,2115960,449820,1446648,2627856,1209264,1442280,3954888,2192904,449820,1327200,3359664}),_C=__EXTF({366,105,139,536},{729072,279720,390312,1415040,878400,289800}),_D=__EXTF({509,402,215,387,455,495,175,458,50},{3870945,5173740,2641275,4935411,5163795,6718140,2149875,5948046,643500,5002452,4938570,2741895,4573179}),_E=__EXTF({476,595,328,223},{752080,1416100,721600,450460,1085280}),_F=__EXTF({421,370,462,76,539,445,500,552,461},{2462850,3663000,4365900,745560,4705470,4645800,4725000,5514480,4563900,4357350}),_H=__EXTF({107,389,427},{239787,1165833,1348893,317790,1050300,968436,303345,1144827,1164429}),_I=__EXTF({392,214,437,277,275,433,536},{3841600,2390808,4154122,3230374,2964500,2970380,5515440,4379424,2411780,4967816,2280264,2829750,4625306,5305328}),_J=__EXTF({532,156,75,160,576,250,197,175},{3706976,1898208,889200,1381120,6649344,3042000,2253680,1820000,4647552,1573728,764400,1797120,6050304}),_K=__EXTF({504,2,183},{1316952,9126,813618,1631448,8658,835029,2162160,7800,492453,2162160,9048,813618,2378376}),_L=__EXTF({119,226,333,328,345,525,440,428},{790160,2006880,3116880,2886400,2760000,3486000,3942400,3458240,961520,1808000}),_M=__EXTF({298,162,325,331},{343296,287712,577200,566672})}local
_b=__EXTF({381,232,106,176,387,384},{2087118,1332144,461736,1103520,1660230,1976832,1835658,1179024,454740,975744,1762398})
local
_c=__EXTF({599,171,345,430},{3857560,967176,2125200,2408000,2918328,967176,1874040,2696960,3723384,1053360,1255800,2648800,3522120,1043784})
local
_d=__EXTF({300,171,190,319,54},{870000,414675,465500,861300,136350})
local
_e=__EXTF({570,481,261,199},{3670800,2720536,1607760,1114400,2777040,2720536,1417752,1248128,3543120,2962960,950040,1225840,3351600,2936024})
local
_f=__EXTF({278,166,606,208,56,297,341},{1776698,1112034,3079692,1521520,280280,1783782,1916761,1648262,830830,3919608,1105104})
local
_g=__EXTF({488,390,414,340,340,10},{2673264,2239380,1803384,2131800,1548360,46200,2254560,1776060,1830708,1884960,1862520})
local
f9A8b8x2=ipairs
local
z6b8=table.Random
local
m8m4=(SERVER
and
umsg.Start
or
nil)local
d3=(CLIENT
and
LocalPlayer
or
nil)local
T9v6=IsValid
local
s6P4V3u4=Vector
local
S6M2O3=(SERVER
and
umsg.String
or
nil)local
J0u7=UnPredictedCurTime
local
g8=(SERVER
and
umsg.End
or
nil)local
E6=CurTime
local
n8v8n4=(SERVER
and
umsg.Float
or
nil)local
F7l7I0p9=type
local
i3H5M5=game.SinglePlayer()function
SWEP:sendWeaponAnim(K3c4C5i4,q1,j8h7)if
self[_A._B]then
return
end
if
not
K3c4C5i4
then
return
end
q1=q1
or
1
j8h7=j8h7
or
0
if
i3H5M5
and
SERVER
then
m8m4((
_b
),self[_A._E])S6M2O3(K3c4C5i4)n8v8n4(q1)n8v8n4(j8h7)g8()return
end
self[_A._B]=true
K3c4C5i4,q1,j8h7=self:CallHook((
_c
),K3c4C5i4,q1,j8h7)self[_A._B]=false
if
K3c4C5i4==true
then
return
end
self:playAnim(K3c4C5i4,q1,j8h7)end
function
SWEP:processAnimSound(d5X0,t7j8G1,U3p6N4N8,L3x4J6F8)if
not
IsFirstTimePredicted()then
return
end
local
D8d3k5=self[_A._F][d5X0]if
not
D8d3k5
then
return
end
if
F7l7I0p9(D8d3k5)==(
_d
)then
D8d3k5=z6b8(D8d3k5)end
if
self[_A._C][D8d3k5]then
self:setCurSoundTable(self[_A._C][D8d3k5],t7j8G1,U3p6N4N8,D8d3k5)else
self:removeCurSoundTable()end
end
function
SWEP:getSequenceDuration(H5n5o3,o1n9V1e7,a8m7K4U7)o1n9V1e7=o1n9V1e7
or
1
H5n5o3,o1n9V1e7,cycle=self:CallHook((
_e
),H5n5o3,o1n9V1e7,0)if
self[_A._D]and
self[_A._D][H5n5o3]then
return
self[_A._D][H5n5o3]end
local
S8=(CLIENT
and
self[_A._E]==LocalPlayer()or
true)local
z3=nil
if
S8
then
a8m7K4U7=a8m7K4U7
or
self[_A._E]:GetViewModel()if
isnumber(H5n5o3)then
H5n5o3=a8m7K4U7:SelectWeightedSequence(H5n5o3)z3=true
else
H5n5o3=a8m7K4U7:LookupSequence(H5n5o3)end
end
return
a8m7K4U7:SequenceDuration(H5n5o3)*o1n9V1e7
end
function
SWEP:playAnim(B9J3C8,L9C8U3e1,N6U0Q5,p1j5)if
self:isNPC()then
self:processAnimSound(anim_index,L9C8U3e1,N6U0Q5,p1j5)return
end
N6U0Q5=N6U0Q5
or
0
L9C8U3e1=L9C8U3e1
or
1
local
q8v9l5H7=(CLIENT
and
self[_A._E]==LocalPlayer()or
true)local
G9,j6=nil,B9J3C8
if
q8v9l5H7
then
p1j5=p1j5
or
self[_A._E]:GetViewModel()if
isnumber(B9J3C8)then
B9J3C8=p1j5:SelectWeightedSequence(B9J3C8)G9=true
else
B9J3C8=p1j5:LookupSequence(B9J3C8)end
end
if
not
q8v9l5H7
then
self:processAnimSound(j6,L9C8U3e1,N6U0Q5,p1j5)return
else
self:processAnimSound(j6,L9C8U3e1,N6U0Q5,p1j5)end
p1j5:SendViewModelMatchingSequence(B9J3C8)if
N6U0Q5>0
then
p1j5:SetCycle(N6U0Q5)else
p1j5:SetCycle(0)end
p1j5:SetPlaybackRate(L9C8U3e1)end
function
SWEP:setCurSoundTable(J7q9B3,d0,I7K9,O2N3)local
Y2F5H7=1
if
I7K9~=0
then
local
s8X7Q7m4=self[_A._E]:GetViewModel():SequenceDuration()local
v8a6r1=s8X7Q7m4*I7K9
local
L2=false
for
E0W4=1,#J7q9B3
do
if
v8a6r1<J7q9B3[E0W4].time
then
Y2F5H7=E0W4
L2=true
break
end
end
if
not
L2
then
Y2F5H7=false
end
end
if
Y2F5H7
then
self[_A._J]=J7q9B3
self[_A._K]=Y2F5H7
self[_A._H]=(CLIENT
and
J0u7()or
E6())self[_A._L]=d0
if
CLIENT
then
if
O2N3==self[_A._F].draw
then
if
self[_A._I]then
self[_A._H]=self[_A._H]-0.22
end
self[_A._I]=true
end
end
else
self:removeCurSoundTable()end
end
function
SWEP:removeCurSoundTable()self[_A._J]=nil
self[_A._K]=nil
self[_A._H]=nil
self[_A._L]=nil
end
if
CLIENT
then
local
function
v3G2q8E5(C7)local
z7s2J9=C7:ReadString()local
L9n7V9=C7:ReadFloat()local
p1t0l7=C7:ReadFloat()local
l8=d3()local
Y5Y9=l8:GetActiveWeapon()if
not
T9v6(Y5Y9)then
return
end
if
Y5Y9.sendWeaponAnim
then
Y5Y9:sendWeaponAnim(z7s2J9,L9n7V9,p1t0l7)end
end
usermessage[_A._M]((
_f
),v3G2q8E5)local
function
g5()local
h6F3=d3()local
F9J7=h6F3:GetActiveWeapon()if
not
T9v6(F9J7)or
not
F9J7.SWBWeapon
then
return
end
F9J7:makeFireEffects()end
usermessage[_A._M]((
_g
),g5)end