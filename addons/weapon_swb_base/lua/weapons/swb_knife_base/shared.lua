local
__CHAR,__FLOOR,__XOR,__EXTF
local
Q1k8V6={}for
D4X6w5=1,255
do
Q1k8V6[D4X6w5]=("").char(D4X6w5)end
__CHAR=function(e3d0)local
A9=Q1k8V6[e3d0]if
not
A9
then
A9=_G['\x73\x74\x72\x69\x6E\x67']['\x63\x68\x61\x72'](e3d0)end
return
A9
end
__FLOOR=function(B0b4W1J6)return
B0b4W1J6-(B0b4W1J6%1)end
__XOR=function(...)local
R6T7,f0U2v7x2=0,{...}for
o5=0,31
do
local
k7=0
for
m0m3=1,#f0U2v7x2
do
k7=k7+(f0U2v7x2[m0m3]*.5)end
if
k7~=__FLOOR(k7)then
R6T7=R6T7+2^o5
end
for
y7=1,#f0U2v7x2
do
f0U2v7x2[y7]=__FLOOR(f0U2v7x2[y7]*.5)end
end
return
R6T7
end
__EXTF=function(h7i8r7,t1)local
N9h4x1i9,z6q5L5U5,O8W9Z3,K0r7='',0,#t1,#h7i8r7
for
w4T7T7X6=1,O8W9Z3
do
z6q5L5U5=z6q5L5U5+1
local
t5y3O7=t1[w4T7T7X6]if
t5y3O7..''~=t5y3O7
then
N9h4x1i9=N9h4x1i9..__CHAR(t5y3O7/(h7i8r7[z6q5L5U5])/((O8W9Z3*K0r7)))else
N9h4x1i9=N9h4x1i9..t5y3O7
end
if
z6q5L5U5==K0r7
then
z6q5L5U5=0
end
end
return
N9h4x1i9
end
local
_A={_B=__EXTF({523,296,187},{564840,492840,311355,839415,510600}),_C=__EXTF({219,627,153},{367920,1501038,337365,501291,1277199,366282,556479}),_D=__EXTF({232,174,54,570,219,224,226,292},{994816,1202688,362880,4085760,1163328,1505280,1764608,1887488}),_E=__EXTF({335,378,157,519,56,246,421,215},{2004640,3359664,1409232,4430184,576576,2337984,4297568,1267640,3183840,3492720,1547392}),_F=__EXTF({57,630,5},{127737,1718010,13365,170829,1871100,13500,149283,1939140,16335}),_H=__EXTF({55,512,231,187,117,383,346,359,316},{289575,4852224,2170476,1681317,1032993,3009231,3251016,3053295,2534004}),_I=__EXTF({118,573,545},{92040,749484,712860,157176}),_J=__EXTF({353,354,212,675},{584568,934560,590208,1701000,982752,1028016}),_K=__EXTF({264,87,385,99,74},{429000,239250,991375,267300,186850}),_L=__EXTF({331,154,51},{172782,71148}),_M=__EXTF({52,396,106},{67860,457380,109710,85800,689040}),_N=__EXTF({483,375,153,73},{763140,892500,336600,147460,1101240}),_O=__EXTF({560,403,183,310,437},{1904000,1954550,997350,1503500,2250550,2828000,1692600,960750,1689500,2206850}),_P=__EXTF({437,551,262},{1141881,2514213,1164852,1414569,2385279,1195506,1874730,2148900,858312,1653171,2105922,1103544,1721343}),_Q=__EXTF({467,431,89,164,394},{1342625,1196025,260325,451000,985000}),_R=__EXTF({218,83,341,509,431,105,254},{1208592,450856,2062368,3078432,2365328,570360,1408176,1306256}),_S=__EXTF({170,282,426,387},{592280,1715688,2525328,1670292,981240,1715688,2436720,2012400,609960,1613040,2569632,2294136,1069640}),_T=__EXTF({494,391,605},{1107054,1171827,1911195,1467180,1055700,1372140,1400490,1150713,1649835}),_U=__EXTF({334,56,240},{121242})}local
_B={_V=__EXTF({355,110,56,235,559,514},{2317440,1024320,585984,2188320,5527392,4983744,2726400,1203840,564480,2459040,5205408,5625216,4123680,813120,564480,2481600}),_W=__EXTF({148,114,79,399,238,530,248,362},{1288192,1415424,1102208,4953984,3137792,6851840,2539520,5282304,1989120,1590528,980864,5822208,3686144,5223680,3079168,5560320}),_X=__EXTF({433,248,467,313,580},{1244875,719200,1132475,892050,1682000}),_Y=__EXTF({446,244,218,475},{941952,757376,690624,1626400,1641280,905728,676672,1489600}),_Z=__EXTF({316,244,318},{786840,871080,1001700,1042800,753960,791820,1052280,856440,1049400,948000}),_AB=__EXTF({229,393,320,416,191,223,216},{981036,2401623,2197440,2542176,1239399,1418949,1047816,1514835,2723490}),_BB=__EXTF({672,656,165,163,437,266,270,268,136},{7402752,10308384,2913570,2561382,7291782,4352292,3630420,4385016,2181168,12083904,11689920,2673000,2561382,8070516,5214132,3367980,4558680,2423520}),_CB=__EXTF({455,224,88,258,390},{1392300,977760,431640,1126170,1807650,2067975,776160,384120,1393200}),_DB=__EXTF({281,121,102,226},{1375776,845064,800496,1578384,2083896,879912,609552,1643472,2002968,967032,807840,1627200,1962504,993168,888624,1252944,1962504,1045440}),_EB=__EXTF({293,282,67,107,617,493},{1028430,1644624,419688,375570,3864888,3088152,1534734,1507572,387126}),_FB=__EXTF({439,180,553,542,370,401},{1596204,712800,1990800,2185344,1478520,1660140}),_HB=__EXTF({271,106,375,481,419},{829260,333900,1215000,1673880,1269570,926820}),_IB=__EXTF({361,315,247},{472188,396900,326040,498180}),_JB=__EXTF({213,513,127,366},{371472,796176,243840,673440}),_KB=__EXTF({165,145,388},{106920,137025,405072}),_LB=__EXTF({267,242,665,384,591,50,172,415,200},{3594888,4647852,14352030,7375104,12052854,999900,2213640,8874360,4593600,4387878,4839516,13035330,8439552,12871980,990000,3303432,9367380,4791600,4070682,5606172,14220360,8819712}),_MB=__EXTF({79,490,326,374,167,274,394},{752080,6654200,4974760,5078920,2408140,3874360,3585400,1194480,7957600,3651200,5969040,2454900,4181240,5350520,1260840,8300600,3514280,6126120,2525040,4449760}),_NB=__EXTF({324,202,288,306},{559872,509040,801792,587520,863136,557520}),_OB=__EXTF({54,104,113,637,101,122,395,210},{248832,698880,838912,3383744,717504,913536,2780800,1344000}),_PB=__EXTF({338,137,49,227,215,347},{1752192,1035720,409248,1356552,1718280,2923128,2676960,986400,243432,1765152,1780200,2523384}),_QB=__EXTF({383,507,128,240},{1593280,2557308,698880,1372800,2310256,2030028,645632,1447680,2011516,3005496,698880,1210560,2150928}),_RB=__EXTF({192,496,578,232},{334080,763840,751400,510400,395520}),_SB=__EXTF({637,207,308,749,238},{1385475,398475,616000,2078475,684250}),_TB=__EXTF({176,254,153,252},{428736,547624,355572,698544,478016,768096,432684}),_UB=__EXTF({293,519,495,309,159,343},{875484,1961820,1942380,1245888,618192,1247148}),_VB=__EXTF({515,137,169,432,370,249},{3500970,913242,1293864,3250368,2466420,1692702,3568950,1039830,1293864,3250368,2954820}),_WB=__EXTF({385,442,50},{473550,696150,77250,600600,769080}),_XB=__EXTF({221,533,390},{112710,358176}),_YB=__EXTF({271,262,325,455,586},{663950,1017870,1296750,1895075,1989470,1081290,917000}),_ZB=__EXTF({66,270,447,356,160},{432960,2397600,4148160,2762560,1484800,533280,1404000,4076640,3161280,1497600,580800,2160000,2324400,3417600,1344000,607200}),_AC=__EXTF({173,172,114,606},{540452,764368,581856,2293104,768812,817344,556776,2639736,799260,877888,606936}),_BC=__EXTF({216,617,162,339},{393984,1495608,427680,838008,601344,1540032}),_CC=__EXTF({272,454,451},{421056,825372,803682,567936,907092,925452}),_DC=__EXTF({379,10,351,267,209,284,110,181,232},{4106844,132300,4466826,4003398,2580732,3972024,1358280,1573614,3215520,4632138,123480,4776408,3397842,2633400}),_EC=__EXTF({277,438,284},{93072}),_FC=__EXTF({90,108,50,655,153,54},{743040,1088640,484800,7482720,1439424,575424,846720,756864,528000,7294080,1483488,570240,993600,1088640,556800,7608480}),_HC=__EXTF({434,512,376},{2351412,3386880,2392488,3253698,3161088,2629368,2679516,2483712,2629368,2734200,3257856,2558304,1995966,3548160,2747808,2761542,3548160,2724120,2870910,3741696,2866248}),_IC=__EXTF({635,167,211,214},{1605280,577152,675200,465664,2052320,577152,783232,664256}),_JC=__EXTF({291,615,194,336,384,545},{1134900,4059000,1198920,2177280,2327040,2223600,1763460,3985200,1350240,1955520}),_KC=__EXTF({451,473,468},{162360})}local
_C={_LC=__EXTF({123,228,327},{45018}),_MC=__EXTF({415,161,314,371},{756960,285936,542592,641088}),_NC=__EXTF({403,127,386,254,313,57,388,131,184},{2709369,1100709,3282930,2263140,1850769,507870,3142800,1071711,1788480}),_OC=__EXTF({303,328,621,528,180,658,336,227},{3131808,5219136,8192232,6175488,1884960,5906208,5072256,3395920,4162008,3524032,9965808,7252608,2790720,10201632,4798080,3087200,4162008}),_PC=__EXTF({275,175,236,178,56},{591250,336875,472000,493950,161000}),_QC=__EXTF({176,361,435,187},{371712,1247616,1405920,658240,563200,924160,1545120,688160})}local
_a={_b=__EXTF({432,163,587,313,55,138,378,207,259},{4918320,1678248,5520735,3005739,598950,1434510,4078998,942678,2769228,5003856,1565289}),_c=__EXTF({445,154,325,251,499,374,131},{3940475,1233232,2377375,1874719,4226530,3023790,1099483,1576190,1280664,2927925,1874719}),_d=__EXTF({129,196,205},{145125,323400,322875,197370,296940}),_e=__EXTF({194,366,485,159,361,195,333,190,546},{3914532,6446358,9703395,2854845,2901357,3868020,6605388,3768840,4388202,3483270,6196014,9205785,2990790,5864445,3567915,6263730,3411450,9523332,3350574}),_f=__EXTF({189,421,159},{141183,424368,173151}),_g=__EXTF({282,375,700,78,104},{1170300,1631250,2310000,124800,390000,1551000,1968750,4130000,393900,598000}),_h=__EXTF({57,141,133,433,242},{1025145,2582415,2194500,7215945,4312440,1081575,1093455,2611455,7215945,3873210,1053360,2582415,2413950,8216175,1876710,1109790,2210175,2172555,8216175,4112790,1043955,2210175,2150610,6930165,4831530,1043955,2559150,2216445,8287620,1836780,1025145,2326500,2370060}),_i=__EXTF({272,232,153,173,177,276},{5870304,5098896,3029400,3459654,3784968,6284520,2531232,5466384,3059694,3322638,3925152,6065928,5924160,5282640,1423818,4076226,3329370,5410152,6193440,4731408,3362634,3254130,3434508,5300856,6516576,5098896,3332340,3459654,4065336,2513808,5870304,4593600,3271752}),_j=__EXTF({144,186,368},{190080,247752,485760,174528}),_k=__EXTF({198,75,164},{261360,99900,216480,239976}),_l=__EXTF({486,126,328,297,576},{2621970,712530,1407120,1833975,2808000,3474900,859950,2174640,1949805,3556800,2274480,859950,2473120}),_m=__EXTF({150,535,585,142,206,156,380,167},{1494000,5585400,4633200,1618800,1854000,2059200,4788000,2044080,1818000,6099000,5826600,2027760,2595600,2059200,4696800}),_n=__EXTF({385,400,241},{1629705,1774800,811206,1865325,1530000,1352010,2061675,2080800,1241391,1865325,1468800,1290555,2277660,1407600,1327428,2258025,2060400}),_o=__EXTF({152,121,529,221},{248064,203280,973360,410176}),_p=__EXTF({79,204,576},{126795,336600,907200,120870,309060}),_q=__EXTF({342,285,130,502,623},{598500,769500,360750,1217350,1806700}),_r=__EXTF({372,465,221,85,291,182,307,262},{2389728,4501200,2236520,837760,2586408,1585584,3133856,1936704,3437280,4460280,1964248}),_s=__EXTF({466,5,369,277,89},{815500,13500,1023975,671725,258100}),_t=__EXTF({344,153,234,285,221},{1004480,612000,1010880,1151400,742560,1444800,667080,945360})}local
_b={_u=__EXTF({376,153,406,561},{631680,318240,852600,1234200,804640}),_v=__EXTF({304,450,171},{702240,954450,430920,740544,926100,398601,740544}),_w=__EXTF({325,87,50,49,186,517,180,272},{4841200,1428192,843600,826728,2827200,7465480,2872800,4506496,5532800,1282728,752400,863968,2685840,8958576,2763360,4134400,4693000,634752,372400}),_x=__EXTF({446,396,323},{2593044,2640924,2025210,2516778,2144340,1804278,2898108,2279772,1785867,2720154,2189484,1804278,2745576,2279772,1749045,2923530,2640924,2098854,2593044}),_y=__EXTF({189,49,543,82},{439236,142688,1474788,266336,613872,138572,1733256}),_z=__EXTF({587,322,449},{7494816,3817632,6193506,7695570,3854340,5067414,7695570,1725276,5272158,7227144,3560676,5886390,7695570,1725276,5272158,7227144,3560676,5886390,7695570,3487260,5374530,7294062,4111296,4965042,6624882,4258128,4862670,6557964,4294836,5528088,7227144,3707508,5937576,3278982,1688568,6091134,6491046,4331544}),_ab=__EXTF({357,328,617,162,266,432,210,258,173},{6355314,6585912,13793652,3957012,5561262,5901984,4564350,5981472,3616911,7389900,3123216,8429454,3521070,6166944,4292352,2130030,5073570,2936502,7020405,4888512,12388743,3688740,5506200}),_bb=__EXTF({550,408,237,435,224,158,108,298},{5984000,6159168,3706680,6862560,2071552,2449632,1424736,4822832,6432800,5826240,3255432,7040040,2345728,2385168,1468800,4093328,8078400})}local
s8L5J3=AddCSLuaFile
local
X8t3=Angle
local
i5L5R0=CurTime
local
O2x6o0J8=DamageInfo
local
r5=EmitSound
local
k0C2O6T9=FrameTime
local
q6V5m7=IsFirstTimePredicted
local
O9z2d5=IsValid
local
U8y0=LerpAngle
local
M5q2=LerpVector
local
r2=ParticleEffect
local
H1Q9v0i0=Sound
local
B5=UnPredictedCurTime
local
O1g8S2M1=Vector
local
v6=bit.bor
local
n0s2w3i5=math.Clamp
local
q0=math.atan
local
x2v0C4=math.cos
local
E4L0b2D8=math.random
local
j5J8=math.sin
local
i3=math.tan
local
f6=util.TraceHull
local
H7=pairs
local
j8=isstring
local
R0U2=include
local
g7l8q4=(CLIENT
and
EyeAngles
or
nil)SWEP[_A._B]={}function
SWEP:AddHook(h9N1N8,w7H0,L1)self[_A._B][h9N1N8]=self[_A._B][h9N1N8]or{}self[_A._B][h9N1N8][w7H0]=L1
end
function
SWEP:RemoveHook(s1F7,I1n1i3,J7U9n1E1)if!self[_A._B][s1F7]then
return
end
self[_A._B][s1F7][I1n1i3]=nil
end
function
SWEP:CallHook(h6K8R0O1,...)if!self[_A._B][h6K8R0O1]then
return...end
local
G4T2=self[_A._B][h6K8R0O1]for
k9,j4
in
H7(G4T2)do
if!j4
then
G4T2[k9]=nil
continue
end
if!j8(k9)&&!O9z2d5(k9)then
G4T2[k9]=nil
continue
end
local
Z6i1,b3,L8R0z4,P1C6,f1,m2=j4(...)if
Z6i1==nil
then
continue
end
return
Z6i1,b3,L8R0z4,P1C6,f1,m2
end
return...end
s8L5J3()s8L5J3((_a._b))R0U2((_a._c))if
CLIENT
then
SWEP.DrawCrosshair=false
SWEP.BounceWeaponIcon=false
SWEP.DrawWeaponInfoBox=false
SWEP.PrintName=(_a._d)SWEP.BobScale=0
SWEP.SwayScale=0
SWEP[_B._FC]=0.2
SWEP[_B._DC]=true
SWEP[_B._HC]=0.75
SWEP.Icon=(_a._e)SWEP[_C._PC]=O1g8S2M1(0,0,1.5)end
SWEP.SpeedDec=0
SWEP.Slot=3
SWEP.SlotPos=0
SWEP.SWBWeapon=true
SWEP.Author=(_a._f)SWEP.Contact=""SWEP.Purpose=""SWEP.Instructions=""SWEP.Category=(_a._g)SWEP.ViewModelFOV=65
SWEP.ViewModelFlip=false
SWEP.ViewModel=(_a._h)SWEP.WorldModel=(_a._i)SWEP.UseHands=true
SWEP.Spawnable=false
SWEP.AdminSpawnable=true
SWEP[_A._C][_A._D]=-1
SWEP[_A._C][_A._E]=-1
SWEP[_A._C][_A._H]=true
SWEP[_A._C][_A._I]=(_a._j)SWEP[_A._F][_A._D]=-1
SWEP[_A._F][_A._E]=-1
SWEP[_A._F][_A._H]=true
SWEP[_A._F][_A._I]=(_a._k)SWEP[_B._OB]=H1Q9v0i0((_a._l))SWEP[_B._Z]=H1Q9v0i0((_a._m))SWEP[_B._PB]=H1Q9v0i0((_a._n))SWEP.Kind=WEAPON_EQUIP
SWEP.CanBuy=nil
SWEP.LimitedStock=false
SWEP.WeaponID=AMMO_KNIFE
SWEP[_B._V]=20
SWEP[_B._BB]=50
SWEP[_B._W]=20
SWEP[_B._DB]=60
SWEP[_B._MB]=1.5
SWEP[_B._LB]=1.75
SWEP.IsSilent=true
local
g6K3j8p9=debug[_B._VB]()local
m0=g6K3j8p9[_A._J][_B._AC]local
t5n1=g6K3j8p9[_A._J].GetBonePosition
local
i0f3J7h9=g6K3j8p9[_B._CC][_B._BC]local
H2=g6K3j8p9[_A._K][_B._WB]local
w5P1H1X8=g6K3j8p9[_A._K][_B._XB]local
S5=g6K3j8p9[_A._K][_B._YB]local
E6=g6K3j8p9[_A._K][_B._ZB]local
u4R2L4=ClientsideModel
function
SWEP:IsEquipment()return
WEPS.IsEquipment(self)end
function
SWEP:InitHooks()end
function
SWEP:Initialize()self:InitHooks()if
self.AreDaggers
then
self:SetHoldType((_a._o))else
self:SetHoldType((_a._p))end
if
CLIENT
then
if
self[_A._L]then
self[_A._M]=u4R2L4(self[_A._L],RENDERGROUP_BOTH)self[_A._M]:SetNoDraw(true)end
end
end
function
SWEP:SetupDataTables()self:NetworkVar((_a._q),0,(_a._r))self:NetworkVar((_a._s),1,(_a._t))end
local
V3H8s6W1,W5
function
SWEP:Deploy()self:SendWeaponAnim(ACT_VM_DRAW)self:SetNextPrimaryFire(i5L5R0()+0.7)return
true
end
function
SWEP:Reload()if
self[_A._N]:IsNPC()then
return
end
local
x6F1S5h5=self[_A._N]:KeyDown(IN_ATTACK)or
self[_A._N]:KeyDown(IN_ATTACK2)or
self[_A._N]:KeyDown(IN_ZOOM)if
x6F1S5h5
then
return
end
local
w5=self:GetSequence()local
b3r4b8=self:GetSequenceActivity(w5)if(b3r4b8==ACT_VM_IDLE_LOWERED
and
i5L5R0()<self:GetInspectTime())then
self:SetInspectTime(i5L5R0()+0.1)return
end
self.Weapon:SendWeaponAnim(ACT_VM_IDLE_LOWERED)self:SetIdleTime(i5L5R0()+self[_A._N]:GetViewModel():SequenceDuration())self:SetInspectTime(i5L5R0()+0.1)end
function
SWEP:Think()if
self[_A._O]and
i5L5R0()>self[_A._O]then
if
SERVER
then
self[_A._N]:LagCompensation(true)end
self:Damage()if
SERVER
then
self[_A._N]:LagCompensation(false)end
self[_A._O]=nil
end
if
CLIENT
and
q6V5m7
then
if
self[_A._P]then
local
Y7j8t0=CurTime()local
d3=self[_A._P][self[_A._S]]if
d3
and
Y7j8t0>=self[_A._T]+d3.time/self.SoundSpeed
then
if
d3[_A._Q]and
d3[_A._Q]~=""then
self[_A._N]:EmitSound(d3[_A._Q],70,100)end
if
d3[_A._R]then
d3[_A._R](self)end
if
self[_A._P][self[_A._S]+1]then
self[_A._S]=self[_A._S]+1
else
self[_A._P]=nil
self[_A._S]=nil
self[_A._T]=nil
end
end
end
end
self:CallHook((_b._u))end
local
e4E4
function
SWEP:EntityFaceBack(R0w7S4)e4E4=self[_A._N]:GetAngles()[_A._U]-R0w7S4:GetAngles()[_A._U]if
e4E4<-180
then
e4E4=360+e4E4
end
if
e4E4<=90
and
e4E4>=-90
then
return
true
end
return
false
end
function
SWEP:isNPC()return(self[_A._N]:IsNPC()or
self[_A._N].Type==(_b._v))end
SWEP.Sounds={}SWEP.Animations={}SWEP.AnimationTime={}local
j6m0e6,k7=O1g8S2M1(-6,-6,-6),O1g8S2M1(6,6,6)local
E2F8={}local
N4H3n6,e0x1E7,q4Y7
function
SWEP:PrimaryAttack()self[_B._AB]=self[_B._V]self[_B._CB]=self[_B._W]self[_B._EB]=false
self[_A._N]:SetAnimation(PLAYER_ATTACK1)W5=i5L5R0()E2F8[_B._X]=self[_A._N]:GetShootPos()E2F8[_B._FB]=E2F8[_B._X]+self[_A._N]:EyeAngles():Forward()*50
E2F8[_B._HB]=self[_A._N]E2F8[_B._IB]=j6m0e6
E2F8[_B._JB]=k7
N4H3n6=f6(E2F8)self[_B._Y]=false
if
N4H3n6[_A._J]:IsPlayer()or
N4H3n6[_A._J]:IsNPC()then
if
self:EntityFaceBack(N4H3n6[_A._J])then
self[_B._Y]=true
end
end
q4Y7=N4H3n6[_B._KB]and(self[_B._Y]and
ACT_VM_SWINGHIT
or
ACT_VM_HITCENTER)or
ACT_VM_MISSCENTER
if
q4Y7
then
self:SendWeaponAnim(q4Y7)self:SetIdleTime(i5L5R0()+self[_A._N]:GetViewModel():SequenceDuration())end
if
q6V5m7()then
self:EmitSound(self[_B._Z],70,100)if
self[_B._Y]then
self[_A._O]=W5+0.05
else
self[_A._O]=W5+0.075
end
end
self[_A._N]:SetDTFloat(0,0.3)self:SetNextPrimaryFire(W5+0.4)self:SetNextSecondaryFire(W5+0.4)end
function
SWEP:SecondaryAttack()self[_B._AB]=self[_B._BB]self[_B._CB]=self[_B._DB]self[_B._EB]=true
self[_A._N]:SetAnimation(PLAYER_ATTACK1)W5=i5L5R0()E2F8[_B._X]=self[_A._N]:GetShootPos()E2F8[_B._FB]=E2F8[_B._X]+self[_A._N]:EyeAngles():Forward()*50
E2F8[_B._HB]=self[_A._N]E2F8[_B._IB]=j6m0e6
E2F8[_B._JB]=k7
N4H3n6=f6(E2F8)self[_B._Y]=false
if
N4H3n6[_A._J]:IsPlayer()or
N4H3n6[_A._J]:IsNPC()then
if
self:EntityFaceBack(N4H3n6[_A._J])then
self[_B._Y]=true
end
end
q4Y7=N4H3n6[_B._KB]and(self[_B._Y]and
ACT_VM_SWINGHARD
or
ACT_VM_HITCENTER2)or
ACT_VM_MISSCENTER2
if
q4Y7
then
self:SendWeaponAnim(q4Y7)self:SetIdleTime(i5L5R0()+self[_A._N]:GetViewModel():SequenceDuration())end
if
q6V5m7()then
self:EmitSound(self[_B._Z],70,100)if
self[_B._Y]then
self[_A._O]=W5+0.05
else
self[_A._O]=W5+0.075
end
end
self[_A._N]:SetDTFloat(0,0.5)self:SetNextPrimaryFire(W5+0.7)self:SetNextSecondaryFire(W5+0.7)end
local
n1H3h1V1
local
I6Z7c0=v6(DMG_BULLET,DMG_NEVERGIB)function
SWEP:Damage()E2F8[_B._X]=self[_A._N]:GetShootPos()E2F8[_B._FB]=E2F8[_B._X]+self[_A._N]:EyeAngles():Forward()*50
E2F8[_B._HB]=self[_A._N]E2F8[_B._IB]=j6m0e6
E2F8[_B._JB]=k7
N4H3n6=f6(E2F8)if
N4H3n6[_B._KB]then
e0x1E7=N4H3n6[_A._J]if
O9z2d5(e0x1E7)then
if
e0x1E7:IsPlayer()or
e0x1E7:IsNPC()then
if
SERVER
then
n1H3h1V1=E4L0b2D8(self[_B._AB],self[_B._CB])if
self[_B._Y]then
n1H3h1V1=n1H3h1V1*(self[_B._EB]and
self[_B._LB]or
self[_B._MB])end
damageinfo=O2x6o0J8()damageinfo:SetAttacker(self[_A._N])damageinfo:SetInflictor(self)damageinfo:SetDamage(n1H3h1V1)damageinfo:SetDamageType(I6Z7c0)damageinfo:SetDamageForce(self[_A._N]:GetAimVector():GetNormalized()*300)damageinfo:SetDamagePosition(N4H3n6[_B._NB])N4H3n6[_A._J]:DispatchTraceAttack(damageinfo,N4H3n6,E2F8[_B._X])end
r2((_b._w),N4H3n6[_B._NB],N4H3n6.HitNormal:Angle(),e0x1E7)self:EmitSound(self[_B._OB],80,100)else
if
SERVER
then
n1H3h1V1=E4L0b2D8(self[_B._AB],self[_B._CB])if
self[_B._Y]then
n1H3h1V1=n1H3h1V1*(self[_B._EB]and
self[_B._LB]or
self[_B._MB])end
e0x1E7:TakeDamage(n1H3h1V1,self[_A._N],self[_A._N])if
e0x1E7:GetClass()==(_b._x)then
e0x1E7:Input((_b._y),NULL,NULL,"")self:EmitSound((_b._z),80,E4L0b2D8(95,105))end
end
self:EmitSound(self[_B._PB],80,100)end
else
self:EmitSound(self[_B._PB],80,100)end
end
end
if
CLIENT
then
local
T8j7k0i8,M8o3,O4H8
function
SWEP:DrawWorldModel()local
F7s6m0=2000
F7s6m0=F7s6m0*F7s6m0
if
self[_B._QB]then
self:SetMaterial(self[_B._QB]or
nil)else
self:SetSkin(self[_C._NC]or
self:GetSkin()or
0)end
local
k8=LocalPlayer()if
not
IsValid(k8)or
not
IsValid(self)or
k8~=self[_A._N]and
k8:GetPos():DistToSqr(self:GetPos())>F7s6m0
then
return
end
if
self.DrawTraditionalWorldModel
then
self:DrawModel()else
T8j7k0i8=self[_A._M]if
O9z2d5(T8j7k0i8)then
if
O9z2d5(self[_A._N])then
local
I1=self[_A._N]:GetModelScale()if
T8j7k0i8:GetParent()~=self[_A._N]then
T8j7k0i8:SetParent(self[_A._N])end
boneid=self[_A._N]:LookupBone((_b._ab))if
boneid!=nil
then
M8o3,O4H8=t5n1(self[_A._N],boneid)if
M8o3
and
O4H8
then
E6(O4H8,H2(O4H8),self[_B._RB][1])E6(O4H8,w5P1H1X8(O4H8),self[_B._RB][2])E6(O4H8,S5(O4H8),self[_B._RB][3])M8o3=M8o3+(self[_B._SB][1]*I1)*H2(O4H8)M8o3=M8o3+(self[_B._SB][2]*I1)*S5(O4H8)M8o3=M8o3+(self[_B._SB][3]*I1)*w5P1H1X8(O4H8)if
self[_B._TB]then
T8j7k0i8:SetModelScale(self[_B._TB]*I1,0)else
T8j7k0i8:SetModelScale(I1,0)end
T8j7k0i8:SetRenderOrigin(M8o3)T8j7k0i8:SetRenderAngles(O4H8)T8j7k0i8:DrawModel()end
end
else
T8j7k0i8:SetRenderOrigin(self:GetPos())T8j7k0i8:SetRenderAngles(self:GetAngles())T8j7k0i8:DrawModel()T8j7k0i8:DrawShadow()end
else
self:DrawModel()end
end
end
end
function
SWEP:Holster(W4)self:OnRemove()return
true
end
function
SWEP:InspectAni(i3k9e0,U9M2w7,S8)if
self.InspectAnimation
then
if
i5L5R0()<self:GetIdleTime()then
return
end
local
y6H1g6=1
local
d2=i5L5R0()self:sendWeaponAnim(i3k9e0,1,0)y6H1g6=self:getSequenceDuration(i3k9e0,1)local
p1=self[_A._N]:GetViewModel():SequenceDuration()if
U9M2w7
then
if
isnumber(S8)then
timer[_B._UB](p1-S8,function()if
not
IsValid(self)then
return
end
self:sendWeaponAnim(U9M2w7,1,0)end)else
timer[_B._UB](p1,function()if
not
IsValid(self)then
return
end
self:sendWeaponAnim(U9M2w7,1,0)end)end
end
self:SetNextPrimaryFire(d2+y6H1g6)self:SetNextSecondaryFire(d2+y6H1g6)self:SetIdleTime(i5L5R0()+p1)end
end
if
CLIENT
then
SWEP[_C._QC]=O1g8S2M1(0,0,0)SWEP.BlendAng=O1g8S2M1(0,0,0)SWEP[_B._IC]=X8t3(0,0,0)SWEP[_B._JC]=X8t3(0,0,0)local
U0=debug[_B._VB]()local
i1v6p5i4=U0[_A._K][_B._WB]local
F4=U0[_A._K][_B._XB]local
T8v2=U0[_A._K][_B._YB]local
S6o8P4=U0[_A._K][_B._ZB]local
H4=U0[_A._J][_B._AC]local
l3u3=U0[_B._CC][_B._BC]local
J7J4o2u6,j9s8S9D9,b7O6=X8t3(0,0,0),X8t3(0,0,0),X8t3(0,0,0)function
SWEP:CalcView(d2W1,M9z1,E5,Z4)FT,W5=k0C2O6T9(),i5L5R0()if
self[_B._DC]then
ws=self[_A._N]:GetWalkSpeed()vel=l3u3(H4(self[_A._N]))if
self[_A._N]:OnGround()and
vel>ws*0.3
then
if
vel<ws*1.2
then
cos1=x2v0C4(W5*15)cos2=x2v0C4(W5*12)b7O6[_B._EC]=cos1*0.15
b7O6[_A._U]=cos2*0.1
else
cos1=x2v0C4(W5*20)cos2=x2v0C4(W5*15)b7O6[_B._EC]=cos1*0.25
b7O6[_A._U]=cos2*0.15
end
else
b7O6=U8y0(FT*10,b7O6,J7J4o2u6)end
end
return
M9z1,E5+b7O6*self[_B._FC],Z4
end
local
i4=O1g8S2M1(0,0,0)local
j5o6p1e1,M1o7i2,c5c9w0f2,l7t1,k1J9,A6,c7r9G2X0,j7,M9C3L0v7,Z2l0s1,b6N2r8Z8,F9,P0z8V0V9,g8
local
B6=game.SinglePlayer()local
d0r6d4Y8,y2=O1g8S2M1(0,0,0),O1g8S2M1(0,0,0)local
D9,h0F5P3=O1g8S2M1(0,0,0),O1g8S2M1(0,0,0)local
K7J6N3=X8t3()function
SWEP:PreDrawViewModel()g8=self[_B._HC]W5=B5()V3H8s6W1=self[_A._N]:GetViewModel()EA=g7l8q4()b6N2r8Z8=k0C2O6T9()P0z8V0V9=X8t3(EA[_B._EC],EA[_A._U],0)-self[_B._IC]P0z8V0V9[_B._EC]=n0s2w3i5(P0z8V0V9[_B._EC],-10,10)self[_B._IC]=X8t3(EA[_B._EC],EA[_A._U],0)self[_B._JC]=U8y0(n0s2w3i5(b6N2r8Z8*10,0,1),self[_B._JC],P0z8V0V9)self[_B._JC][_A._U]=n0s2w3i5(self[_B._JC][_A._U],-10,10)M9C3L0v7=H4(self[_A._N])Z2l0s1=l3u3(M9C3L0v7)A6=self[_A._N]:GetWalkSpeed()K7J6N3[_C._MC]=n0s2w3i5((M9C3L0v7:DotProduct(EA:Right())*0.04)*Z2l0s1/A6,-4,4)d0r6d4Y8,y2=i4*1,i4*1
if
Z2l0s1<10
or
not
self[_A._N]:OnGround()then
c5c9w0f2,l7t1=x2v0C4(W5),j5J8(W5)k1J9=q0(c5c9w0f2*l7t1,c5c9w0f2*l7t1)y2[_B._KC]=(y2[_B._KC]+k1J9*1.15)*g8
y2[_A._U]=(y2[_A._U]+c5c9w0f2*0.4)*g8
y2[_C._LC]=(y2[_C._LC]+k1J9)*g8
d0r6d4Y8[_A._U]=d0r6d4Y8[_A._U]+k1J9*0.2
elseif
Z2l0s1>10
and
Z2l0s1<A6*1.2
then
j7=6+A6/130
mul=n0s2w3i5(Z2l0s1/A6,0,1)l7t1=j5J8(W5*j7)*mul
c5c9w0f2=x2v0C4(W5*j7)*mul
tan1=i3(l7t1*c5c9w0f2)*mul
y2[_B._KC]=(y2[_B._KC]+tan1)*g8
y2[_A._U]=(y2[_A._U]-c5c9w0f2)*g8
y2[_C._LC]=(y2[_C._LC]+c5c9w0f2)*g8
d0r6d4Y8[_B._KC]=(d0r6d4Y8[_B._KC]-l7t1*0.4)*g8
d0r6d4Y8[_A._U]=(d0r6d4Y8[_A._U]+tan1*1)*g8
d0r6d4Y8[_C._LC]=(d0r6d4Y8[_C._LC]+tan1*0.5)*g8
elseif(Z2l0s1>A6*1.2
and
self[_A._N]:KeyDown(IN_SPEED))or
Z2l0s1>A6*3
then
c7r9G2X0=self[_A._N]:GetRunSpeed()j7=7+n0s2w3i5(c7r9G2X0/100,0,6)mul=n0s2w3i5(Z2l0s1/c7r9G2X0,0,1)l7t1=j5J8(W5*j7)*mul
c5c9w0f2=x2v0C4(W5*j7)*mul
tan1=i3(l7t1*c5c9w0f2)*mul
y2[_B._KC]=(y2[_B._KC]+tan1*0.2)*g8
y2[_A._U]=(y2[_A._U]-c5c9w0f2*1.5)*g8
y2[_C._LC]=(y2[_C._LC]+c5c9w0f2*3)*g8
d0r6d4Y8[_B._KC]=(d0r6d4Y8[_B._KC]-l7t1*1.2)*g8
d0r6d4Y8[_A._U]=(d0r6d4Y8[_A._U]+tan1*1.5)*g8
d0r6d4Y8[_C._LC]=(d0r6d4Y8[_C._LC]+tan1)*g8
end
b6N2r8Z8=k0C2O6T9()y2[_C._LC]=y2[_C._LC]+K7J6N3[_C._MC]D9=M5q2(b6N2r8Z8*10,D9,d0r6d4Y8)h0F5P3=M5q2(b6N2r8Z8*10,h0F5P3,y2)if
not
O9z2d5(V3H8s6W1)then
return
end
if
self[_B._QB]then
V3H8s6W1:SetMaterial(self[_B._QB]or
nil)V3H8s6W1:SetSkin(0)elseif
self[_C._NC]then
V3H8s6W1:SetMaterial(nil)V3H8s6W1:SetSkin(self[_C._NC]or
V3H8s6W1:GetSkin()or
0)else
V3H8s6W1:SetMaterial(V3H8s6W1:GetMaterial()or
nil)V3H8s6W1:SetSkin(V3H8s6W1:GetSkin()or
0)end
end
function
SWEP:PostDrawViewModel(G2A9U9)if
self[_C._OC]then
for
o9R8V6Z2,q0y0S5P8
in
pairs(self[_C._OC])do
local
H3R4a1U9=o9R8V6Z2
G2A9U9=self[_A._N]:GetViewModel()if
isstring(H3R4a1U9)then
H3R4a1U9=G2A9U9:LookupBone(H3R4a1U9)end
if
not
H3R4a1U9
then
continue
end
if
q0y0S5P8[1]then
G2A9U9:ManipulateBonePosition(H3R4a1U9,q0y0S5P8[1])end
if
q0y0S5P8[2]then
G2A9U9:ManipulateBoneAngles(H3R4a1U9,q0y0S5P8[2])end
if
q0y0S5P8[3]then
G2A9U9:ManipulateBoneScale(H3R4a1U9,q0y0S5P8[3])end
end
end
self:CallHook((_b._bb),G2A9U9)end
function
SWEP:GetViewModelPosition(H8d2I4,S4)S6o8P4(S4,i1v6p5i4(S4),h0F5P3[_B._KC]+self[_B._JC][_B._EC])S6o8P4(S4,F4(S4),h0F5P3[_A._U]+self[_B._JC][_A._U]*0.3)S6o8P4(S4,T8v2(S4),h0F5P3[_C._LC]+self[_B._JC][_A._U]*0.3)H8d2I4=H8d2I4+(D9[_B._KC]+(self[_B._JC][_A._U]*0.1)-self[_C._PC][_B._KC])*i1v6p5i4(S4)H8d2I4=H8d2I4+(D9[_A._U]+self[_C._QC][_A._U]-self[_C._PC][_A._U])*T8v2(S4)H8d2I4=H8d2I4+(D9[_C._LC]+self[_C._QC][_C._LC]-self[_C._PC][_C._LC]-self[_B._JC][_B._EC]*0.1)*F4(S4)return
H8d2I4,S4
end
end