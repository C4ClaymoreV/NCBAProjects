local NPCSpawns = {
    -- Generic NPCs
    [1] = { name = "slawer_elections_television", vector = {[1] = 2920, [2] = 200, [3] = -150},angle = { [1] = 0, [2] = 90, [3] = 0}},
    [2] = { name = "titlestore_corenpc", vector = {[1] = 3000, [2] = 200, [3] = -131},angle = { [1] = 0, [2] = 90, [3] = 0}},
    [3] = { name = "extremegamblernpc", vector = {[1] = 3050, [2] = 200, [3] = -131},angle = { [1] = 0, [2] = 90, [3] = 0}},
    [4] = { name = "voidcases_npc", vector = {[1] = 3100, [2] = 200, [3] = -131},angle = { [1] = 0, [2] = 90, [3] = 0}},
    [5] = { name = "slawer_elections_npc", vector = {[1] = 3150, [2] = 200, [3] = -131},angle = { [1] = 0, [2] = 90, [3] = 0}},
    [6] = { name = "npc_health", vector = {[1] = 3200, [2] = 200, [3] = -131},angle = { [1] = 0, [2] = 90, [3] = 0}},
    -- Zeros Trash Man
    [7] = { name = "ztm_buyermachine", vector = {[1] = -2203, [2] = -6105, [3] = -200},angle = { [1] = 0, [2] = -90, [3] = 0}},
    [8] = { name = "ztm_buyermachine", vector = {[1] = -2203, [2] = -6240, [3] = -200},angle = { [1] = 0, [2] = -90, [3] = 0}},
    [9] = { name = "ztm_buyermachine", vector = {[1] = -2203, [2] = -6375, [3] = -200},angle = { [1] = 0, [2] = -90, [3] = 0}},
    [10] = { name = "ztm_recycler", vector = {[1] = -1690, [2] = -5875, [3] = -200},angle = { [1] = 0, [2] = -90, [3] = 0}},
    [11] = { name = "ztm_recycler", vector = {[1] = -1440, [2] = -5875, [3] = -200},angle = { [1] = 0, [2] = -90, [3] = 0}},
    [12] = { name = "ztm_trashburner", vector = {[1] = -1230, [2] = -5930, [3] = -200},angle = { [1] = 0, [2] = 0, [3] = 0}},
    [13] = { name = "ztm_trashburner", vector = {[1] = -1230, [2] = -6060, [3] = -200},angle = { [1] = 0, [2] = 0, [3] = 0}},
    [14] = { name = "ztm_trashburner", vector = {[1] = -1230, [2] = -6190, [3] = -200},angle = { [1] = 0, [2] = 0, [3] = 0}},
    [15] = { name = "ztm_trashburner", vector = {[1] = -1230, [2] = -6320, [3] = -200},angle = { [1] = 0, [2] = 0, [3] = 0}},
    -- Manhole Covers
    [16] = { name = "ztm_manhole", vector = {[1] = 4401, [2] = 3973, [3] = -203.5},angle = { [1] = 0, [2] = 0, [3] = 0}},
    [17] = { name = "ztm_manhole", vector = {[1] = 2635, [2] = 2756, [3] = -203.5},angle = { [1] = 0, [2] = 0, [3] = 0}},
    [18] = { name = "ztm_manhole", vector = {[1] = 2665, [2] = -918, [3] = -203.5},angle = { [1] = 0, [2] = 0, [3] = 0}},
    [19] = { name = "ztm_manhole", vector = {[1] = 64, [2] = -874, [3] = -203.5},angle = { [1] = 0, [2] = 0, [3] = 0}},
    [20] = { name = "ztm_manhole", vector = {[1] = 143, [2] = -7071, [3] = -203.5},angle = { [1] = 0, [2] = 0, [3] = 0}},
    [21] = { name = "ztm_manhole", vector = {[1] = -2670, [2] = -7064, [3] = -203.5},angle = { [1] = 0, [2] = 0, [3] = 0}},
    [22] = { name = "ztm_manhole", vector = {[1] = -2694, [2] = -922, [3] = -203.5},angle = { [1] = 0, [2] = 0, [3] = 0}},
    [23] = { name = "ztm_manhole", vector = {[1] = -4331, [2] = 1329, [3] = -203.5},angle = { [1] = 0, [2] = 0, [3] = 0}},
    [24] = { name = "ztm_manhole",vector = {[1] = -3636, [2] = 3937, [3] = -203.5},angle = { [1] = 0, [2] = 0, [3] = 0}},
    [25] = { name = "ztm_manhole",vector = {[1] = -1231, [2] = -901, [3] = -203.5},angle = { [1] = 0, [2] = 0, [3] = 0}},
    [26] = { name = "ztm_manhole",vector = {[1] = 233, [2] = 663, [3] = -203.5},angle = { [1] = 0, [2] = 0, [3] = 0}},
    [27] = { name = "ztm_manhole",vector = {[1] = 202, [2] = 3981, [3] = -203.5},angle = { [1] = 0, [2] = 0, [3] = 0}},
    [28] = { name = "ztm_manhole",vector = {[1] = 230, [2] =  6749, [3] = -203.5},angle = { [1] = 0, [2] = 0, [3] = 0}},
    [29] = { name = "ztm_manhole",vector = {[1] = 2317, [2] = 7330, [3] = -203.5},angle = { [1] = 0, [2] = 0, [3] = 0}},
    -- Retro Miner NPCs
    [30] = { name = "zrms_buyer",vector = {[1] = 3647, [2] = 1878, [3] = -195},angle = { [1] = 0, [2] = -180, [3] = 0}},
    [31] = { name = "zrms_buyer",vector = {[1] = 800, [2] = 1477, [3] = -373},angle = { [1] = 0, [2] = 0, [3] = 0}},
    -- Ghetto Tunnel
    [32] = { name = "zmlab2_npc",vector = {[1] = 5056, [2] = 3820, [3] = -203.5},angle = { [1] = 0, [2] = -180, [3] = 0}},
    [33] = { name = "zwf_buyer_npc",vector = {[1] = 5056, [2] = 3870, [3] = -203.5},angle = { [1] = 0, [2] = -180, [3] = 0}},
    [34] = { name = "zrush_npc",vector = {[1] = 5056, [2] = 3920, [3] = -203.5},angle = { [1] = 0, [2] = -180, [3] = 0}},
    [35] = { name = "zyb_buyer_npc",vector = {[1] = 5056, [2] = 3970, [3] = -203.5},angle = { [1] = 0, [2] = -180, [3] = 0}},
    -- Industrial/Church
    [36] = { name = "zmlab2_npc",vector = {[1] = 1024, [2] = 6530, [3] = -195},angle = { [1] = 0, [2] = 0, [3] = 0}},
    [37] = { name = "zwf_buyer_npc",vector = {[1] = 1024, [2] = 6580, [3] = -195},angle = { [1] = 0, [2] = 0, [3] = 0}},
    [38] = { name = "zrush_npc",vector = {[1] = 1024, [2] = 6630, [3] = -195},angle = { [1] = 0, [2] = 0, [3] = 0}},
    [39] = { name = "zyb_buyer_npc",vector = {[1] = 1024, [2] = 6680, [3] = -195},angle = { [1] = 0, [2] = 0, [3] = 0}},
    -- Beach Area
    [40] = { name = "zmlab2_npc",vector = {[1] = 3200, [2] = -4318, [3] = -195},angle = { [1] = 0, [2] = 90, [3] = 0}},
    [41] = { name = "zwf_buyer_npc",vector = {[1] = 3150, [2] = -4318, [3] = -195},angle = { [1] = 0, [2] = 90, [3] = 0}},
    [42] = { name = "zrush_npc",vector = {[1] = 3100, [2] = -4318, [3] = -195},angle = { [1] = 0, [2] = 90, [3] = 0}},
    [43] = { name = "zyb_buyer_npc",vector = {[1] = 3050, [2] = -4318, [3] = -195},angle = { [1] = 0, [2] = 90, [3] = 0}},
    -- Subburbs
    [44] = { name = "zmlab2_npc",vector = {[1] = -2200, [2] = -4248, [3] = -195},angle = { [1] = 0, [2] = -90, [3] = 0}},
    [45] = { name = "zwf_buyer_npc",vector = {[1] = -2150, [2] = -4248, [3] = -195},angle = { [1] = 0, [2] = -90, [3] = 0}},
    [46] = { name = "zrush_npc",vector = {[1] = -2100, [2] = -4248, [3] = -195},angle = { [1] = 0, [2] = -90, [3] = 0}},
    [47] = { name = "zyb_buyer_npc",vector = {[1] = -2050, [2] = -4248, [3] = -195},angle = { [1] = 0, [2] = -90, [3] = 0}},
}
--[[
for i,v in pairs(ents.FindByClass("ztm_buyermachine")) do
    print(v)
    print(v:GetPos())
    print(v:GetAngles())
end--]]
local printSpawns = false
local function CreateNPCs()
    for i,v in ipairs(NPCSpawns) do
        local ncbanpc = ents.Create( v.name )
        ncbanpc:SetPos( Vector(v.vector[1], v.vector[2], v.vector[3]) )
        ncbanpc:SetAngles( Angle(v.angle[1], v.angle[2], v.angle[3]) )
        ncbanpc:DrawShadow(false)
        ncbanpc:Spawn()
        if printSpawns then
            print("[NCBA.gg] " .. i .. " - spawned " .. v.name .. " at " .. v.vector[1] .. "," .. v.vector[2] .. "," .. v.vector[3])
        end
    end
end
local NPCORESpawns = {
    [1] = { name = "zrms_ore",vector = {[1] = 3920, [2] = 1265, [3] = -558},angle = { [1] = 0, [2] = 0, [3] = 0}, rtype = "Bronze", ramount = 250},
    [2] = { name = "zrms_ore",vector = {[1] = 3585, [2] = 1269, [3] = -545},angle = { [1] = 0, [2] = 0, [3] = 0}, rtype = "Bronze", ramount = 250},
    [3] = { name = "zrms_ore",vector = {[1] = 3438, [2] = 1290, [3] = -546},angle = { [1] = 0, [2] = 0, [3] = 0}, rtype = "Coal", ramount = 250},
    [4] = { name = "zrms_ore",vector = {[1] = 4110, [2] = 1282, [3] = -558},angle = { [1] = 0, [2] = 0, [3] = 0}, rtype = "Coal", ramount = 250},
    [5] = { name = "zrms_ore",vector = {[1] = 4306, [2] = 1291, [3] = -558},angle = { [1] = 0, [2] = 0, [3] = 0}, rtype = "Silver", ramount = 250},
    [6] = { name = "zrms_ore",vector = {[1] = 3289, [2] = 1293, [3] = -552},angle = { [1] = 0, [2] = 0, [3] = 0}, rtype = "Silver", ramount = 250},
    [7] = { name = "zrms_ore",vector = {[1] = 3314, [2] = 1680, [3] = -537},angle = { [1] = 0, [2] = 0, [3] = 0}, rtype = "Gold", ramount = 250},
    [8] = { name = "zrms_ore",vector = {[1] = 3995, [2] = 1756, [3] = -558},angle = { [1] = 0, [2] = 0, [3] = 0}, rtype = "Gold", ramount = 250},
    [9] = { name = "zrms_ore",vector = {[1] = 3551, [2] = 1707, [3] = -549},angle = { [1] = 0, [2] = 0, [3] = 0}, rtype = "Iron", ramount = 250},
    [10] = { name = "zrms_ore", vector = {[1] = 4292, [2] = 1654, [3] = -545},angle = { [1] = 0, [2] = 0, [3] = 0}, rtype = "Iron", ramount = 250}
}
--[[
for i,v in pairs(ents.FindByClass("ztm_buyermachine")) do
    print(v)
    print(v:GetPos())
    print(v:GetAngles())
end--]]
local function CreateOREs()
    for i,v in ipairs(NPCORESpawns) do
        local ncbaore = ents.Create( v.name )
        ncbaore:SetPos( Vector(v.vector[1], v.vector[2], v.vector[3]) )
        ncbaore:SetAngles( Angle(v.angle[1], v.angle[2], v.angle[3]) )
        ncbaore:DrawShadow(false)
        ncbaore:SetMoveType(MOVETYPE_NONE)
        ncbaore:SetResourceType(v.rtype)
        ncbaore:SetResourceAmount(v.ramount)
        ncbaore:SetMax_ResourceAmount(v.ramount)
        ncbaore:Spawn()
        if printSpawns then
            print("[NCBA.gg] " .. i .. " - spawned " .. v.name .. " at " .. v.vector[1] .. "," .. v.vector[2] .. "," .. v.vector[3])
        end
    end
end

hook.Add("InitPostEntity", "NCBA_Create_Entities", function()
    timer.Simple(15, function()
    CreateNPCs()
    CreateOREs()
    end)
end)

hook.Add("PostCleanupMap", "NCBA_Respawn_Entities", function()
    timer.Simple(15, function()
    CreateNPCs()
    CreateOREs()
    end)
end)